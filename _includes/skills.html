<style>
  :root {
    --skill-text: #333333;
    --skill-percentage: #555555;
    --progress-bg: #2c2c2c;
    --progress-fill: #3498db;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      --skill-text: #e0e0e0;
      --skill-percentage: #bbbbbb;
      --progress-bg: #888888;
      --progress-fill: #4da3ff;
    }
  }

  .skill-name {
    color: var(--skill-text);
    font-size: 0.875rem;
    font-weight: 500;
  }

  .skill-percentage {
    color: var(--skill-percentage);
    font-size: 0.875rem;
    font-weight: 500;
  }

  .skill-bar-fill {
    transition: width 1s ease-in-out;
  }

  .progress {
    width: 95%;
    height: 4px;
    background-color: var(--progress-bg);
  }

  .progress-bar {
    width: 0; /* set via JS to avoid CSS linter errors with Liquid */
    background-color: var(--progress-fill);
  }
</style>

<div class="row">
  <div class="col-md-6">
    {% for skill in site.data.technical-skills limit: 10 %}
    <div class="mb-4">
      <div class="d-flex justify-content-between">
        <span class="skill-name">{{ skill.name }}</span>
        <span class="skill-percentage">{{ skill.percentage }}%</span>
      </div>
      <div class="progress">
        <div class="progress-bar skill-bar-fill"
             role="progressbar"
             data-percentage="{{ skill.percentage }}"
             data-color="{{ skill.color | default: '' }}"
             aria-valuenow="{{ skill.percentage }}"
             aria-valuemin="0"
             aria-valuemax="100">
        </div>
      </div>
    </div>
    {% endfor %}
  </div>

  <div class="col-md-6">
    {% for skill in site.data.technical-skills offset:10 %}
    <div class="mb-4">
      <div class="d-flex justify-content-between">
        <span class="skill-name">{{ skill.name }}</span>
        <span class="skill-percentage">{{ skill.percentage }}%</span>
      </div>
      <div class="progress">
        <div class="progress-bar skill-bar-fill"
             role="progressbar"
             data-percentage="{{ skill.percentage }}"
             data-color="{{ skill.color | default: '' }}"
             aria-valuenow="{{ skill.percentage }}"
             aria-valuemin="0"
             aria-valuemax="100">
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

<script>
  (function () {
    var bars = document.querySelectorAll('.progress-bar.skill-bar-fill');
    bars.forEach(function (bar) {
      var pct = parseFloat(bar.getAttribute('data-percentage')) || 0;
      var color = bar.getAttribute('data-color');
      bar.style.width = pct + '%';
      if (color) {
        bar.style.backgroundColor = color;
      }
    });
  })();
</script>